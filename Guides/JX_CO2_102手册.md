|     |
| --- |
| **小型二氧化碳模组传感器**<br><br>**使用说明书** |
| **JX-CO2-102** |
| **Ver1.0** |
|     |

# 第1章 产品简介

## 产品概述

JX-CO2-102系列是利用非分散性红外线技术（NDIR）测量二氧化碳的一种传感器。

NDIR红外气体传感器工作原理是基于不同气体分子的近红外光谱选择吸收特性，利用气体浓度与吸收强度关系（朗伯-比尔Lambert-Beer定律）鉴别气体组分并确定其浓度的气体传感装置。

NDIR作为光学传感器，不同于CAT传感器进行氧化还原反应，不需要氧气参与检测的方式，提高了产品的灵敏度。

JX-CO2-102系列产品采用镀金工艺制作而成。本产品可广泛应用于暖通制冷换新风控制、室内空气质量监测、农业及畜牧业生产过程监控，可安装于智能楼宇、通风系统、控制器、壁挂使用、机器人、汽车等应用场合。

## 参数指标

|     |     |
| --- | --- |
| **参数** | **技术指标** |
| **测量范围** | 0-5000ppm（默认） |
| **测量分辨率** | 1ppm |
| **测量精度** | 50ppm或±5%F.S(25℃) |
| **响应时间** | <30s (25℃) |
| **预热时间** | < 1min (25℃) |
| **达到精度** | < 5min (25℃) |
| **工作电压** | 5V DC |
| **平均耗电** | <60mA |
| **工作湿度** | 0~95%RH(非凝露) |
| **工作温度** | \-10~60℃；出厂默认温度补偿范围：0~50℃ |
| **存储温度** | \-20~70℃ |

## 产品规格

|     |     |
| --- | --- |
| **型号** | **量程** |
| **JX-CO2-102-5K** | 0-5000ppm |
| **JX-CO2-102-1W** | 0-10000ppm |
| **JX-CO2-102-3W** | 0-30000ppm |
| **JX-CO2-102-5W** | 0-50000ppm |

## 引脚定义

JX-CO2-102系列红外二氧化碳的引脚定义如下表(图)所示:

|     |     |     |
| --- | --- | --- |
| **引脚** | **名称** | **备注** |
| **1** | VCC | 电源5V |
| **2** | GND | 电源地 |
| **3** | TX  | TTL电平信号，3.3V |
| **4** | RX  | TTL电平信号，3.3V |
| **5** | DAC | 模拟电压输出接口 |
| **6** | HD  | 自动校准接口 （和GND短接后开启24小时自动校准） |
| **7** | PWM | PWM输出(CO2浓度) |
|     |     |     |

备注：上电会满量程，90s后恢复正常

1 2 3 4 5 6 7

## 产品外观

下图是产品的外观和结构尺寸图,以及安装孔位，如图所示：

# 通信协议

- 1.  通信参数

|     |     |
| --- | --- |
| **参数** | **内容** |
| **通讯地址** | 0x01（默认） |
| **波特率** | 9600（默认） |
| **数据位** | 8位  |
| **奇偶校验位** | 无   |
| **停止位** | 1位  |

模组有两种工作方式，分别为主动上报式和被动应答式，默认工作模式为**主动上报模式，**在主动上报模式下设备会以间隔1S发送一次当前的浓度值。设备可以通过指令修改为问答式，问答式状态下只有向设备发指令询问，设备才会恢复当前浓度值。

- 1.  通信命令

1.  **主动上报模式**

**RX（接收）格式如下：**

|     |     |     |     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
|     |     | x   | x   | x   | x   |     | p   | p   | m   | \\r | \\n |

例如： 输出1235 ppm格式如下（十六进制）：

|     |     |     |     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 20  | 20  | 31  | 32  | 33  | 35  | 20  | 70  | 70  | 6d  | 0D  | 0A  |

其中0X20为空格的十六进制码，输出以换行符结尾

**注**：若串口数据显示采用ASCII码形式，会直接显示当前气体浓度数值

1.  **修改通讯模式**

TX（发送）格式如下：

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始位 | 地址  | 命令字节 | 通讯模式 | \-- | \-- | \-- | \-- | 校验和 |
| 0xFF | 0x01 | 0x03 | 0x\*\* | 0x00 | 0x00 | 0x00 | 0x00 | 0\*\* |

RX（接收）格式如下**：**

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始位 | 地址  | 命令字节 | 通讯模式 | 状态  | \-- | \-- | \-- | 校验和 |
| 0xFF | 0x01 | 0x03 | 0x\*\* | 0x\*\* | 0x00 | 0x00 | 0x00 | 0\*\* |

**发送:** FF 01 03 01 00 00 00 00 FC可以切换为主动上报

返回： FF 01 03 01 01 00 00 00 FB代表设置成功

**发送：** FF 01 03 02 00 00 00 00 FB可以切换为问询模式

返回： FF 01 03 02 01 00 00 00 FA代表设置成功

**发送：** FF 01 03 03 01 00 00 00 F9被动问询PPM模式

返回： xxxxx+PPM(ASCII码，数值+单位PPM)

其中 通讯模式：0x01代表主动上报，0x02代表问询式；

1.  **主动问询模式（MODBUS-RTU）**

**读取模组地址 0x01 的气体浓度值，格式如下：**

TX（发送）：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 地址码 | 功能码 | 起始地址 | 数据位 | 校验码低位 | 校验码高位 |
| 0x01 | 0x03 | 0x00,0x05 | 0x00,0x01 | 0x94 | 0x0B |

RX（接收）：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 地址码 | 功能码 | 有效字数 | 气体浓度值 | 校验码<br><br>低位 | 校验码<br><br>高位 |
| 0x01 | 0x03 | 0x02 | 0x06,0x51 | 0x5A | 0x3D |

气体浓度值：651 H(十六进制)=1617=>气体浓度=1617ppm

**修改模组设备地址，格式如下：**

TX（发送）：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 地址码 | 功能码 | 起始地址 | 数据位 | 校验码低位 | 校验码高位 |
| 0x01 | 0x06 | 0x01,0x00 | 0x00,0x02 | 0x09 | 0xF7 |

RX（接收）：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 地址码 | 功能码 | 起始地址 | 数据位 | 校验码低位 | 校验码高位 |
| 0x01 | 0x06 | 0x01,0x00 | 0x00,0x02 | 0x09 | 0xF7 |

发送：**01** 06 01 00 00 **02** 09 F7 将模组地址01改成02。

**修改模组波特率，格式如下：**

TX（发送）：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 地址码 | 功能码 | 起始地址 | 数据长度 | 校验码低位 | 校验码高位 |
| 0x01 | 0x06 | 0x01,0x01 | 0x00,0x01 | 0x18 | 0x36 |

RX（接收）：

|     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- |
| 地址码 | 功能码 | 起始地址 | 数据长度 | 校验码低位 | 校验码高位 |
| 0x01 | 0x06 | 0x01,0x01 | 0x00,0x01 | 0x18 | 0x36 |

发送：**01** 06 01 01 **00 01** 18 36模组波特率9600改成4800。

**其中数据长度0x00代表2400；0x01代表4800；0x00,0x02代表9600。**

## DA输出(模拟电压信号)

可根据客户需求，定制电压输出范围和对应量程

例如：0.4 - 2V对应输出0 - 2K ppm

0 - 3.0V对应输出0 - 5K ppm

电压输出范围：0 - 3.0V

## 校准功能

### 手动快速校准

为方便用户校准零点，添加快速校准零点功能。零点校准功能是指校准 400ppm浓度点。（开阔室外和正常通风环境CO2浓度约为400ppm），校准功能是指传感器在连续运行**30min**后，根据环境浓度智能判断零点并自行校准。

使用时请在室外进行校准，开启校准前放置10min使设备充分预热并且使环境中的气体扩散至模组内，后开启校准。

校零功能适合用于办公环境，家庭环境。但不适用于农业大棚、养殖场、冷库等场所，请用户定期对传感器进行零点校准。

**TX（发送）格式如下：**

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始位 | 地址  | 命令字节 | 通讯模式 | \-- | \-- | \-- | \-- | 校验和 |
| 0xFF | 0x0\* | 0x05 | 0x02 | 0x00 | 0x00 | 0x00 | 0x00 | 0x\*\* |

**RX（接收）格式如下：**

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始位 | 地址  | 命令字节 | 通讯模式 | 状态  | \-- | \-- | \-- | 校验和 |
| 0xFF | 0x0\* | 0x03 | 0x02 | 0x01 | 0x00 | 0x00 | 0x00 | 0x\*\* |

**发送:** FF 01 05 07 00 00 00 00 F4为开启校准。

返回： FF 01 03 07 01 00 00 00 F5代表开启成功。

### 24小时自动校准

使用时请在室外进行校准，开启后模组会自动进行数据校准，如不关闭会每隔24小时内自动校准一次；设备默认关闭校准功能。

校零功能适合用于办公环境，家庭环境（开阔室外和正常通风环境CO2浓度约为400ppm）。但不适用于农业大棚、养殖场、冷库等场所，特别建议长时间在室外使用的客户开启。

**TX（发送）格式如下：**

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始位 | 地址  | 命令字节 | 通讯模式 | \-- | \-- | \-- | \-- | 校验和 |
| 0xFF | 0x0\* | 0x05 | 0x00 | 0x00 | 0x00 | 0x00 | 0x00 | 0x\*\* |

**RX（接收）格式如下：**

|     |     |     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始位 | 地址  | 命令字节 | 通讯模式 | 状态  | \-- | \-- | \-- | 校验和 |
| 0xFF | 0x0\* | 0x03 | 0x00 | 0x01 | 0x00 | 0x00 | 0x00 | 0x\*\* |

**发送:** FF 01 05 05 00 00 00 00 F6为开启校准。

返回： FF 01 03 05 01 00 00 00 F7代表校准成功

**发送:** FF 01 05 06 00 00 00 00 F5为关闭校准。

返回： FF 01 03 06 01 00 00 00 F6代表关闭成功。

## PWM输出(示例)

下文示例以0-5000ppm为例:

CO2浓度输出范围 ： 0ppm to 5000ppm CO2

周期 ： 1004ms±5%

如何通过 PWM获得当前 CO2浓度值的计算公式：

正向脉宽=PPM浓度值/5+2ms；

# 附录

## 使用注意事项

（1）在传感器的焊接、安装、使用等过程中应避免其铝合金管腔体承受任何方向的压力。

（2）传感器如需放置于狭小空间，此空间应通风良好，特别是两扩散窗应处在通风良好的位置。

（3）传感器应远离热源，并避免阳光直射或其他热辐射。

（4）传感器应定期校准，校准周期建议不大于 6 个月。

（5）不要在粉尘密度大的环境长期使用传感器。

（6）为保证传感器能够正常工作，供电电压须保持在 4.5V-5.5V DC 范围中，供电电流须不低于 150mA，不在此范围内，可以会传感器故障，传感器输出浓度偏低或传感器不能正常工作。